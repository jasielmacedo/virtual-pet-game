<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Virtual Pet Simulator - Tech Code Challenge - Work & Co</title>
    <link rel="shortcut icon" href="TemplateData/favicon.ico" />
    <link rel="stylesheet" href="TemplateData/style.css" />
  </head>
  <body>
    <div style="position: relative; width: 100%; height: 85vh">
      <div id="unity-container" class="unity-desktop">
        <canvas
          id="unity-canvas"
          width="1280"
          height="600"
          tabindex="-1"
        ></canvas>
        <div id="unity-loading-bar">
          <div id="unity-logo"></div>
          <div id="unity-progress-bar-empty">
            <div id="unity-progress-bar-full"></div>
          </div>
        </div>
        <div id="unity-warning"></div>
        <div id="unity-footer" style="height: 40px">
          <div id="unity-webgl-logo"></div>
          <div id="unity-fullscreen-button"></div>
          <div id="unity-build-title">pet-simulation</div>
        </div>
      </div>
    </div>
    <div
      id="disclaimer"
      style="
        padding: 40px;
        position: relative;
        font-size: 18px;
        width: 1280px;
        margin: 0 auto;
      "
    >
      <h1 style="margin-top: 20px">
        Cat Simulator - A Tech Code Challenge Project by Jazz Macedo
      </h1>

      <p>
        Hello and welcome to my Cat Simulator project. I developed this
        simulation in Unity to explore a specific approach to artificial
        intelligence known as <strong>Utility-based Decision Making</strong>.
        The idea is simple yet fascinating: a virtual cat to act like a real
        one.
      </p>

      <h2>Controls</h2>

      <p>The main idea is to watch the AI deciding the next action based on the cat stats</p>

      <ul>
        <li>
          <strong>Camera Move:</strong> Move your mouse to the corner of the
          screen to shift the camera in that direction.
        </li>
        <li>
          <strong>Camera Zoom:</strong> You can Zoom-in/Zoom-out using the Pinch
          & stretch action on Mac or Middle-mouse scroll on Windows
        </li>
        <li>
          <strong>Move Cat:</strong> Click on the ground to direct the cat to
          that location.
        </li>
      </ul>

      <h2>Why a Cat?</h2>

      <p>Cats have a wide range of behaviors and needs, from eating and drinking to playing and sleeping. This provides an excellent test bed for exploring how well a utility-based AI can simulate complex, living beings.</p>

      <p>Cats don't just act on a single need at a time; they evaluate their entire situation. This mirrors the complexities of utility-based AI, which also considers multiple variables to make decisions.</p>
      
      <p>Cats are known for their unpredictable and sometimes quirky behavior, making them an ideal subject for demonstrating the capabilities and sometimes unpredictable outcomes of utility-based decision-making.</p>

      <p>Last but not least, simulating a living being is a creative challenge that pushes the boundaries of AI, game design, and behavioral psychology. It provides an opportunity to experiment with more advanced AI techniques, including utility functions that might consider more complex emotional states, to get closer to simulating a living being.</p>

      <h2>AI: Utility-Based Decision Making</h2>

      <p>
        For those unfamiliar with the concept,
        <strong>Utility-Based Decision Making</strong> is an AI technique where
        each possible action is assigned a utility score based on the current
        state of the agentâ€”in this case, our cat. These utility scores are
        derived from a function that considers various properties of the agent.
        For our cat, these properties are
        <strong>Hunger, Thirst, Energy, and Fun</strong>.
      </p>

      <p>
        So how does it work? Simple. When it's time for the cat to decide what
        to do next, the utility function crunches the numbers and assigns a
        utility score to each available action based on the cat's current stats.
        The AI then chooses the action with the highest utility score to
        execute. This means that if the cat is super thirsty, the utility
        function might favor actions like 'Drink Water,' causing the AI to make
        the cat head toward a water source.
      </p>

      <p>
        What makes this approach particularly intriguing is its dynamic nature.
        The cat's needs are constantly changing, and the utility function adapts
        to these fluctuations in real-time. This results in a more natural and
        sometimes unpredictable behavior, closely resembling how real cats act.
        So, don't be surprised if our virtual kitty sometimes throws you a
        curveball!
      </p>

      <h3>Cat Properties</h3>

      <ul>
        <li>Hunger</li>
        <li>Thirst</li>
        <li>Energy</li>
        <li>Fun</li>
      </ul>

      <h3>Cat Possible Actions</h3>

      <ul>
        <li>Eat</li>
        <li>Sleep</li>
        <li>Play with something</li>
        <li>Drink Water</li>
        <li>Lick itself</li>
        <li>Do nothing</li>
      </ul>

      <p>
        The AI controlling the cat chooses actions based on these properties.
        Actions can either increase or decrease specific properties. This way,
        the AI makes decisions dynamically, simulating how a cat would naturally
        behave.
      </p>

      <p>
        While this is just a prototype, the goal is to capture authentic cat
        behavior. If you observe closely, you'll notice that the cat behaves in
        ways reminiscent of a real cat. It's not always predictable; while you
        might guess its next move, ultimately the cat will decide.
      </p>

      <h2>AI: Cat Movement with Nav Mesh for Pathfinding</h2>

      <p>
        The cat's movement in the simulation relies on Unity's <strong>Navigation Mesh (Nav Mesh)</strong> for pathfinding. The Nav Mesh allows the cat to intelligently navigate the environment, taking into account various obstacles and geometry to find the most efficient route to its target location.
      </p>

      <img src="./images/nav-mesh.png" width="480" alt="Nav-Mesh under the hood" />

      <h2>AI: Agent's Action with Finite State Machine</h2>

      <p>
        Once the Utility-based decision making agent decides the next Action, a FSM inside of the Action is triggered and initialized</p>
      </p>

      <p>
        Each action that the cat can perform is implemented using a <strong>Finite State Machine (FSM)</strong>. The FSM is responsible for managing transitions between different states associated with each action. The primary states are as follows:
      </p>
      
      <ul>
        <li><strong>Idle:</strong> In this state, the cat evaluates its environment and internal status. The utility function computes utility scores for each possible action, and the cat prepares to transition to the next state based on the highest-scoring action.</li>
        <li><strong>MoveTo:</strong> In the MoveTo state, the cat uses the Nav Mesh to navigate to the specific location where it will perform its chosen action. The pathfinding algorithm ensures that the cat takes an efficient route, avoiding obstacles as needed.</li>
        <li><strong>Execute:</strong> Upon reaching the target location, the cat transitions to the Execute state where it performs the chosen action, be it eating, drinking, or playing. The execution of this action may result in changes to the cat's internal properties, influencing future decisions.</li>
      </ul>
      
      <p>
        This FSM-based approach provides a structured yet flexible framework for the AI, allowing for a diverse range of realistic and dynamic behaviors.
      </p>

      <h2>Applications of Utility-based Decision Making in AI</h2>

      <ul>
        <li><strong>Finance and Investment</strong>
          <ul>
            <li>Portfolio Optimization: The utility function can model an investor's risk appetite, and the algorithm can help in constructing a portfolio that maximizes utility.</li>
            <li>High-Frequency Trading: Making rapid buying or selling decisions based on utility functions to capitalize on market inefficiencies.</li>
          </ul>
        </li>
        
        <li><strong>Healthcare</strong>
          <ul>
            <li>Treatment Plans: Customizing medical treatment plans based on the utility of different outcomes, including both efficacy and potential side effects.</li>
            <li>Resource Allocation: In a hospital setting, utility-based AI can help allocate resources like ventilators, ICUs, and medical personnel where they are most needed.</li>
          </ul>
        </li>
        
        <li><strong>Supply Chain and Logistics</strong>
          <ul>
            <li>Route Optimization: Determining the most efficient shipping routes and methods.</li>
            <li>Inventory Management: Deciding what to stock and in what quantities to maximize profits or minimize costs.</li>
          </ul>
        </li>
        
        <li><strong>Energy Management</strong>
          <ul>
            <li>Grid Optimization: Determining how best to allocate energy resources in real-time to meet demand.</li>
            <li>Renewable Energy Integration: Deciding when and how much to rely on renewable resources.</li>
          </ul>
        </li>
        
        <li><strong>E-Commerce</strong>
          <ul>
            <li>Dynamic Pricing: Adjusting prices in real-time based on supply and demand.</li>
            <li>Recommendation Systems: Recommending products to maximize either user engagement or profit.</li>
          </ul>
        </li>

        <li><strong>Gaming</strong>
          <ul>
            <li>Game Balance: In multiplayer games, ensuring that no strategy becomes overwhelmingly dominant, creating a balanced experience for all players.</li>
            <li>Dynamic Difficulty Adjustment: Altering game difficulty in real-time based on the player's skill level to keep them engaged.</li>
          </ul>
        </li>
        
        <li><strong>Public Policy</strong>
          <ul>
            <li>Social Welfare Programs: Allocating funds or resources to maximize societal benefits.</li>
            <li>Urban Planning: Deciding where to place public amenities like parks, schools, or public transport facilities to maximize utility for residents.</li>
          </ul>
        </li>

        <li><strong>Manufacturing</strong>
          <ul>
            <li>Quality Control: Automating the process of quality assurance by determining the utility of conducting different types of inspections.</li>
            <li>Process Optimization: Tuning manufacturing processes to minimize resource use while maintaining quality.</li>
          </ul>
        </li>

        <li><strong>Telecommunications</strong>
          <ul>
            <li>Network Design: Deciding where to place towers and how to allocate bandwidth.</li>
            <li>Fault Tolerance: Making real-time decisions about rerouting data to ensure reliable service.</li>
          </ul>
        </li>
        
        <li><strong>Autonomous Systems</strong>
          <ul>
            <li>Self-Driving Cars: Making driving decisions based on a utility function that takes into account speed, safety, fuel efficiency, etc.</li>
            <li>Drone Navigation: Drones can use utility-based AI for optimal path planning, avoiding obstacles, and mission planning.</li>
          </ul>
        </li>
      </ul>

      <h2>Interactivity</h2>

      <p>
        There's a limited range of interaction you can have with the cat. The
        main option available to you is to ask the cat to move to a specific
        location. This is a particularly interesting aspect of the simulation,
        as this action interrupts whatever the cat is currently doing. During
        this time, the stats will fluctuate, giving the cat an opportunity to
        make a new decision. This allows you to see the utility-based
        decision-making approach in action.
      </p>

      <h2>Known Bugs (Or Are They Features? ðŸ˜º)</h2>

      <ul>
        <li>
          <strong>Sudden Naps:</strong>Occasionally, the cat may decide to take
          a nap immediately after performing an action, rather than moving to
          another location to execute a different action.
        </li>
        <li>
          <strong>Ghost Play:</strong> Ever see a cat swatting at absolutely
          nothing? Well, so have we! Our digital kitty sometimes engages in a
          spirited game of 'catch the invisible mouse.' Spooky? Cute? You
          decide!
        </li>
      </ul>

      <p>
        These quirks might be considered bugs, or perhaps they add an extra
        layer of realism, simulating the sometimes unpredictable nature of cats.
        Regardless, they are aspects of the current prototype that are under
        review.
      </p>

      <h2>Source Code</h2>

      <p>
       The code is available on <a href="https://github.com/jasielmacedo/virtual-pet-game" target="_blank">Github</a>
      </p>

      <p>
        Thank you for taking the time to check out my Cat Simulator. I hope you
        enjoy observing the AI in action as much as I enjoyed developing it.
      </p>
    </div>
    <script>
      var container = document.querySelector("#unity-container");
      var canvas = document.querySelector("#unity-canvas");
      var loadingBar = document.querySelector("#unity-loading-bar");
      var progressBarFull = document.querySelector("#unity-progress-bar-full");
      var fullscreenButton = document.querySelector("#unity-fullscreen-button");
      var warningBanner = document.querySelector("#unity-warning");

      // Shows a temporary message banner/ribbon for a few seconds, or
      // a permanent error message on top of the canvas if type=='error'.
      // If type=='warning', a yellow highlight color is used.
      // Modify or remove this function to customize the visually presented
      // way that non-critical warnings and error messages are presented to the
      // user.
      function unityShowBanner(msg, type) {
        function updateBannerVisibility() {
          warningBanner.style.display = warningBanner.children.length
            ? "block"
            : "none";
        }
        var div = document.createElement("div");
        div.innerHTML = msg;
        warningBanner.appendChild(div);
        if (type == "error") div.style = "background: red; padding: 10px;";
        else {
          if (type == "warning")
            div.style = "background: yellow; padding: 10px;";
          setTimeout(function () {
            warningBanner.removeChild(div);
            updateBannerVisibility();
          }, 5000);
        }
        updateBannerVisibility();
      }

      var buildUrl = "Build";
      var loaderUrl = buildUrl + "/Build.loader.js";
      var config = {
        dataUrl: buildUrl + "/Build.data.unityweb",
        frameworkUrl: buildUrl + "/Build.framework.js.unityweb",
        codeUrl: buildUrl + "/Build.wasm.unityweb",
        streamingAssetsUrl: "StreamingAssets",
        companyName: "JazzMacedo",
        productName: "pet-simulation",
        productVersion: "0.1",
        showBanner: unityShowBanner,
      };

      // By default, Unity keeps WebGL canvas render target size matched with
      // the DOM size of the canvas element (scaled by window.devicePixelRatio)
      // Set this to false if you want to decouple this synchronization from
      // happening inside the engine, and you would instead like to size up
      // the canvas DOM size and WebGL render target sizes yourself.
      // config.matchWebGLToCanvasSize = false;

      if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
        // Mobile device style: fill the whole browser client area with the game canvas:

        var meta = document.createElement("meta");
        meta.name = "viewport";
        meta.content =
          "width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes";
        document.getElementsByTagName("head")[0].appendChild(meta);
        container.className = "unity-mobile";
        canvas.className = "unity-mobile";

        // To lower canvas resolution on mobile devices to gain some
        // performance, uncomment the following line:
        // config.devicePixelRatio = 1;
      } else {
        // Desktop style: Render the game canvas in a window that can be maximized to fullscreen:

        canvas.style.width = "1280px";
        canvas.style.height = "600px";
      }

      loadingBar.style.display = "block";

      var script = document.createElement("script");
      script.src = loaderUrl;
      script.onload = () => {
        createUnityInstance(canvas, config, (progress) => {
          progressBarFull.style.width = 100 * progress + "%";
        })
          .then((unityInstance) => {
            loadingBar.style.display = "none";
            fullscreenButton.onclick = () => {
              unityInstance.SetFullscreen(1);
            };
          })
          .catch((message) => {
            alert(message);
          });
      };

      document.body.appendChild(script);
    </script>
  </body>
</html>
